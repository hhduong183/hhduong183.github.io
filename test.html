<?php
$months = [
    '01' => 'Tháng 1', '02' => 'Tháng 2', '03' => 'Tháng 3', '04' => 'Tháng 4',
    '05' => 'Tháng 5', '06' => 'Tháng 6', '07' => 'Tháng 7', '08' => 'Tháng 8',
    '09' => 'Tháng 9', '10' => 'Tháng 10', '11' => 'Tháng 11', '12' => 'Tháng 12'
];

$selectedMonth = $_GET['month'] ?? date('m');
$data = [
    'name' => 'Cao Công Mạnh',
    'company_id' => '3094',
    'base_salary' => 18719000,
    'responsibility' => 0,
    'pc_dac_biet' => 24200000,
    'days_worked' => 26,
    'overtime_hours' => 0.1,
    'holiday_hours' => 0,
    'night_hours' => 0,
    'holiday_night_hours' => 0,
    'total_income' => 21354136,
    'tax_income' => 194990,
    'other_allowances' => 500000,
    'insurances' => 3806443,
    'net_income' => 17867639,
    'bank_transfer' => 17845447,
    'cash' => 22246
];
?>
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng Lương</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .salary-table th, .salary-table td { text-align: right; padding: 5px; }
        .salary-table th:first-child, .salary-table td:first-child { text-align: left; }
        .title { font-weight: bold; text-transform: uppercase; color: red; }
    </style>
</head>
<body class="container mt-4">
    <h2 class="text-center title">BẢNG LƯƠNG <?= strtoupper($months[$selectedMonth]) ?> NĂM 2025</h2>
    <form method="GET" class="mb-3">
        <label for="month" class="form-label">Chọn tháng:</label>
        <select name="month" id="month" class="form-select" onchange="this.form.submit()">
            <option value="all">Tất cả các tháng</option>
            <?php foreach ($months as $key => $month) : ?>
                <option value="<?= $key ?>" <?= ($key == $selectedMonth) ? 'selected' : '' ?>><?= $month ?></option>
            <?php endforeach; ?>
        </select>
    </form>
    
    <table class="table table-bordered salary-table">
        <tr><th>Họ và tên</th><td class="text-danger fw-bold"><?= $data['name'] ?></td></tr>
        <tr><th>Số công ty</th><td class="text-primary fw-bold"><?= $data['company_id'] ?></td></tr>
        <tr><th>Mức lương</th><td><?= number_format($data['base_salary']) ?></td></tr>
        <tr><th>Trách nhiệm</th><td><?= number_format($data['responsibility']) ?></td></tr>
        <tr><th>PC đặc biệt</th><td><?= number_format($data['pc_dac_biet']) ?></td></tr>
        <tr><th>Số ngày làm việc</th><td><?= $data['days_worked'] ?></td></tr>
        <tr><th>Số giờ ngoài</th><td><?= $data['overtime_hours'] ?></td></tr>
        <tr><th>Số giờ làm thêm ngày thường</th><td><?= $data['holiday_hours'] ?></td></tr>
        <tr><th>Số giờ làm thêm đêm</th><td><?= $data['night_hours'] ?></td></tr>
        <tr><th>Số giờ làm thêm đêm ngày thường</th><td><?= $data['holiday_night_hours'] ?></td></tr>
    </table>
    
    <table class="table table-bordered salary-table">
        <thead>
            <tr class="table-warning"><th>TT</th><th>Nội dung</th><th>Thu nhập</th></tr>
        </thead>
        <tbody>
            <tr><td>1</td><td>Thu nhập chính</td><td><?= number_format($data['total_income']) ?></td></tr>
            <tr><td>2</td><td>Thuế TNCN</td><td><?= number_format($data['tax_income']) ?></td></tr>
            <tr><td>3</td><td>Phụ cấp</td><td><?= number_format($data['other_allowances']) ?></td></tr>
            <tr><td>4</td><td>Bảo hiểm</td><td><?= number_format($data['insurances']) ?></td></tr>
            <tr class="table-success"><td></td><td><b>Tổng lương thực lĩnh</b></td><td><b><?= number_format($data['net_income']) ?></b></td></tr>
            <tr><td></td><td>Chuyển khoản</td><td><?= number_format($data['bank_transfer']) ?></td></tr>
            <tr><td></td><td>Tiền mặt</td><td><?= number_format($data['cash']) ?></td></tr>
        </tbody>
    </table>
</body>
</html>
